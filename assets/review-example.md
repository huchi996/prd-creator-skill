# 多角色评审示例 - 轻团队看板

> **说明**: 本示例展示如何使用多角色评审功能，以"轻团队看板"项目的PRD为例。

---

## 场景设定

**项目**: 轻团队看板  
**当前阶段**: PRD初稿已完成，进入多角色评审阶段  
**评审方式**: AI模拟多角色进行评审

---

## 启动多角色评审

### 用户指令示例

```
用户: "请对轻团队看板的PRD进行多角色评审"

或者指定特定角色：

用户: "请以测试工程师的角度评审这个PRD"
用户: "请以研发工程师的角度评审这个PRD"
用户: "请进行完整的多角色评审"
```

---

## 评审示例：轻团队看板PRD

### 📋 背景回顾

轻团队看板是一个极简的多项目追踪系统，核心功能：
- 按项目查看任务
- 按人员查看任务
- 拖拽编辑
- 无权限管理（内部使用）

---

### 👤 角色1：产品经理评审

#### 评审意见

> **总体评价**: 需求清晰，核心场景覆盖完整，但有2个业务逻辑需要澄清。

**问题1：权限管理策略**
- **风险等级**: 🔴 高
- **问题描述**: PRD明确"无需权限管理"，但"所有人可编辑所有人任务"可能导致误操作
- **建议**: 至少增加操作确认提示，或记录操作日志便于追溯
- **位置**: [需求描述文档.md] - 范围界定

**问题2：任务删除后的数据保留**
- **风险等级**: 🟡 中
- **问题描述**: 任务删除是物理删除还是软删除？如果是物理删除，历史数据无法追溯
- **建议**: 建议软删除或增加"已归档"状态
- **位置**: [M002/F008-删除任务.md]

**问题3：项目/人员删除约束**
- **风险等级**: 🟡 中
- **问题描述**: 约束"有任务时不能删除项目/人员"合理，但未说明如何处理离职人员
- **建议**: 增加"离职人员"处理方案（禁用账号 vs 转移任务）
- **位置**: [M003/F013-项目管理-删除.md]

#### 产品视角总结

> 整体需求符合"轻量"定位，但在数据安全和历史追溯方面需要加强。建议在MVP中增加基础的防误触机制。

---

### 💻 角色2：研发工程师评审

#### 评审意见

> **总体评价**: 技术方案可行，架构清晰，但存在3个技术风险点需要关注。

**问题1：乐观锁实现复杂度**
- **风险等级**: 🔴 高
- **问题描述**: F007编辑任务引入乐观锁，但MVP阶段团队对版本控制机制熟悉度未知
- **技术影响**: 实现成本高，可能引入并发Bug
- **建议**: MVP阶段可考虑简化：最后写入优先 + 操作日志，后续再引入乐观锁
- **位置**: [M002/F007-编辑任务.md]

**问题2：拖拽排序的order计算**
- **风险等级**: 🟡 中
- **问题描述**: F004中提到的order平均值算法在频繁拖拽后可能精度丢失
- **技术影响**: 长期运行后排序可能不稳定
- **建议**: 使用整数间隔（如1000）+ 重平衡机制，而非平均值
- **位置**: [M001/F004-拖拽排序功能.md]

**问题3：SQLite并发写入性能**
- **风险等级**: 🟡 中
- **问题描述**: Nginx + SQLite + 多并发写入可能遇到锁等待
- **技术影响**: 并发高时响应变慢
- **建议**: 启用WAL模式（Write-Ahead Logging），或提示用户这是单机版
- **位置**: [技术预研报告.md]

**问题4：缺少接口版本控制**
- **风险等级**: 🟢 低
- **问题描述**: API接口设计未考虑版本控制，后续升级可能不兼容
- **建议**: 在URL中增加版本前缀，如 `/api/v1/tasks`
- **位置**: [API接口汇总.md]

#### 工作量评估

| 模块 | 预估工期 | 技术难点 | 风险 |
|------|----------|----------|------|
| M001看板视图 | 5天 | 拖拽交互 | 中 |
| M002任务管理 | 3天 | 乐观锁 | 高 |
| M003基础数据 | 2天 | 软删除 | 低 |
| **总计** | **10天** | | |

#### 研发视角总结

> 技术方案整体可行，但建议MVP阶段简化乐观锁实现，先验证核心交互。SQLite适合轻量场景，但要提前说明并发限制。

---

### 🧪 角色3：测试工程师评审

#### 评审意见

> **总体评价**: 功能可测试性良好，但边界情况覆盖不足，验收标准需要更明确。

**问题1：验收标准缺失**
- **风险等级**: 🔴 高
- **问题描述**: 大部分功能缺少明确的验收标准，如"拖拽响应快"未定义具体数值
- **测试影响**: 无法判定测试通过与否
- **建议**: 补充量化指标："拖拽响应时间 < 100ms"
- **位置**: [M001/F004-拖拽排序功能.md]

**问题2：边界情况覆盖不足**
- **风险等级**: 🔴 高
- **问题描述**: 以下边界场景未定义：
  - 项目/人员名称最长多少字符？
  - 一个项目下最多多少任务？
  - 任务标题最长多少字符？
  - 无网络时的处理？
- **测试影响**: 无法设计完整的边界测试用例
- **建议**: 补充所有字段的约束规则
- **位置**: [各功能文档]

**问题3：并发测试场景缺失**
- **风险等级**: 🟡 中
- **问题描述**: 多用户同时编辑同一任务的冲突处理未定义测试场景
- **测试影响**: 无法验证乐观锁是否生效
- **建议**: 增加并发测试用例定义
- **位置**: [M002/F007-编辑任务.md]

**问题4：缺少兼容性要求**
- **风险等级**: 🟡 中
- **问题描述**: 未明确支持的浏览器版本、分辨率
- **测试影响**: 测试范围不明确
- **建议**: 补充兼容性矩阵（如Chrome 90+, 1920x1080等）
- **位置**: [需求描述文档.md]

#### 测试用例估算

| 功能 | 用例数 | 重点场景 |
|------|--------|----------|
| 看板视图 | 25 | 拖拽、切换、筛选 |
| 任务管理 | 30 | CRUD、边界值、并发 |
| 基础数据 | 15 | 增删改查、约束 |
| **总计** | **70** | |

#### 测试视角总结

> 功能逻辑清晰，但需要补充边界约束和验收标准。建议PRD中增加"验收标准"章节，否则测试用例设计困难。

---

### 🎨 角色4：UI/UX设计师评审

#### 评审意见

> **总体评价**: 交互逻辑清晰，双维度看板设计有创新，但缺少详细的交互细节定义。

**问题1：空状态未定义**
- **风险等级**: 🟡 中
- **问题描述**: 以下空状态未定义：
  - 新建项目后无任务时的显示
  - 筛选结果为空时的显示
  - 首次使用时的引导
- **建议**: 补充空状态设计稿或描述
- **位置**: [M001/F001-按项目看板视图.md]

**问题2：拖拽反馈不明确**
- **风险等级**: 🟡 中
- **问题描述**: F004提到"拖拽时有视觉反馈"，但具体效果未定义
- **建议**: 明确：拖拽时卡片透明度50% + 阴影 + 原位置占位符
- **位置**: [M001/F004-拖拽排序功能.md]

**问题3：错误提示方式未统一**
- **风险等级**: 🟢 低
- **问题描述**: 有的错误用toast，有的用弹窗，有的inline提示
- **建议**: 统一错误提示规范
  - 表单校验错误：inline显示
  - 操作成功/失败：toast提示
  - 需要确认的操作：弹窗
- **位置**: [各功能文档]

**问题4：缺少加载状态定义**
- **风险等级**: 🟢 低
- **问题描述**: 数据加载时的loading状态未定义
- **建议**: 明确使用骨架屏还是loading spinner
- **位置**: [M001/F001-按项目看板视图.md]

#### 设计工作量

| 内容 | 预估工时 | 备注 |
|------|----------|------|
| 看板界面 | 3天 | 项目/人员两种视图 |
| 任务卡片 | 1天 | 多种状态 |
| 表单弹窗 | 2天 | 创建/编辑/确认 |
| 空状态/异常 | 1天 | |
| **总计** | **7天** | |

#### UI/UX视角总结

> 整体交互设计合理，双维度看板是亮点。建议补充详细的交互状态定义（空状态、加载态、错误态），减少开发阶段的沟通成本。

---

## 评审问题汇总

### 高风险问题 (🔴 必须修改)

| 编号 | 问题 | 提出人 | 修改建议 | 状态 |
|------|------|--------|----------|------|
| 🔴-1 | 乐观锁实现复杂 | 研发 | MVP简化，后续引入 | [待修改] |
| 🔴-2 | 验收标准缺失 | 测试 | 补充量化指标 | [待修改] |
| 🔴-3 | 边界约束未定义 | 测试 | 补充字段约束 | [待修改] |

### 中风险问题 (🟡 建议修改)

| 编号 | 问题 | 提出人 | 修改建议 | 状态 |
|------|------|--------|----------|------|
| 🟡-1 | 权限管理策略 | 产品 | 增加防误触机制 | [待确认] |
| 🟡-2 | 拖拽order算法 | 研发 | 使用整数间隔 | [待修改] |
| 🟡-3 | 空状态未定义 | 设计 | 补充空状态设计 | [待修改] |
| 🟡-4 | 兼容性要求 | 测试 | 补充浏览器矩阵 | [待修改] |

### 低风险建议 (🟢 可选)

| 编号 | 建议 | 提出人 | 优先级 |
|------|------|--------|--------|
| 🟢-1 | API版本控制 | 研发 | P2 |
| 🟢-2 | 错误提示统一 | 设计 | P2 |
| 🟢-3 | 加载状态定义 | 设计 | P2 |

---

## 评审决议

### 最终结论

- [ ] **评审通过**
- [x] **条件通过** - 修改高风险和部分中风险问题后可进入开发
- [ ] **需要重新评审**

### 必须修改项

1. **研发**: 简化乐观锁方案或提供MVP简化版
2. **产品**: 补充字段约束规则（长度、数量等）
3. **产品**: 补充验收标准（量化指标）
4. **设计**: 补充空状态和加载状态定义
5. **产品**: 补充兼容性要求

### 建议修改项

1. **研发**: 优化拖拽order算法
2. **产品**: 考虑增加防误触机制
3. **研发**: 考虑API版本控制

### 后续行动

| 序号 | 行动项 | 责任人 | 截止日期 |
|------|--------|--------|----------|
| 1 | 修改PRD高风险问题 | 产品经理 | 2026-02-14 |
| 2 | 技术方案确认（乐观锁） | 研发工程师 | 2026-02-14 |
| 3 | 补充交互状态定义 | UI设计师 | 2026-02-14 |
| 4 | 重新确认评审 | 全体 | 2026-02-15 |

---

## 使用说明

### 如何进行多角色评审

1. **完整评审**: 
   ```
   "请对[项目名称]的PRD进行多角色评审"
   ```

2. **指定角色**:
   ```
   "请以[角色]的角度评审这个PRD"
   ```

3. **关注特定方面**:
   ```
   "请从[性能/安全/可测试性]角度评审这个PRD"
   ```

### 评审输出

评审完成后，会生成：
- 各角色的详细意见
- 问题分级（高/中/低）
- 修改建议
- 评审决议

---

**示例结束**

此示例展示了如何通过AI模拟多角色评审，发现PRD中的潜在问题。实际使用时，可以根据项目需要选择特定角色进行评审。
